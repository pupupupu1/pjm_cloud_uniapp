(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-file-fileInfo"],{"06c5":function(t,e,n){"use strict";n("a630"),n("fb6a"),n("d3b7"),n("25f0"),n("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(n("6b75"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(t){if("string"===typeof t)return(0,i.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.default)(t,e):void 0}}},"09f0":function(t,e,n){"use strict";function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{i||null==u["return"]||u["return"]()}finally{if(r)throw o}}return n}}n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"0d21":function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"15fd":function(t,e,n){"use strict";n("a4d3"),n("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(n("ccb5"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(null==t)return{};var n,r,o=(0,i.default)(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},1740:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("4077")),o={components:{lFile:r.default},data:function(){return{localPath:"",tip:"\n\t\t\t\t纯粹是看大家对选择文件多端上传需求比较大\n\n\t\t\t\t又得不到好的解决\n\n\t\t\t\t所以只好自己写了一个不需要集成原生插件的上传顺便分享给大家\n\n\t\t\t\t这里只做了“微信端、android、ios”的上传\n\n\t\t\t\th5及其他端自己改改(因为APP使用了plus)\n\n\t\t\t\t希望能帮到你\n\n\t\t\t\t不喜勿喷，不要期待更新，我很懒\n\n\t\t\t\t"}},methods:{onOpenDoc:function(){this.$refs.lFile.open("file:///storage/emulated/0/Android/data/io.dcloud.HBuilder/apps/HBuilder/www/hybrid/html/callback?fileName=43a420ee0bf9aaa6580734d13fa69476.mp4")},onDown:function(){var t=this,e="https://dss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2534506313,1688529724&fm=26&gp=0.jpg";this.$refs.lFile.download(e,"local").then((function(e){t.localPath=e}))},onUpload:function(){this.$refs.lFile.upload({url:"http://47.94.233.146:1220/pjm-service-nacos/file/uploadFile4FileInfo",name:"file",header:{Authorization:uni.getStorageSync("Authorization")}})},onSuccess:function(t){console.log("上传成功回调",JSON.stringify(t)),uni.showToast({title:JSON.stringify(t),icon:"none"})}}};e.default=o},2324:function(t,e,n){var i=n("f8a6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("26a2f235",i,!0,{sourceMap:!1,shadowMode:!1})},"2f2d":function(t,e,n){"use strict";var i=n("4ea4");n("c975"),n("d3b7"),n("ac1f"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("3835")),o=i(n("15fd")),a={props:{top:{type:String,default:"auto"},bgColor:{type:String,default:"rgba(49, 126, 243, 0.5)"},color:{type:String,default:"#e54d42"}},data:function(){return{cubgColor:"",loading:!1,value:5,show:!1,msg:"执行完毕~"}},methods:{toast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,i=void 0===n?2e3:n,r=e.icon,o=void 0===r?"none":r;uni.showToast({title:t,duration:i,icon:o})},getRequest:function(t){var e=new Object,n=t.indexOf("?");if(-1!=n)for(var i=t.substring(n+1),r=i.split("&"),o=0;o<r.length;o++)e[r[o].split("=")[0]]=unescape(r[o].split("=")[1]);return e},appChooseFile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.currentWebview,t.url,t.name,t.header,(0,o.default)(t,["currentWebview","url","name","header"])},wxChooseFile:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,i=e.name,a=void 0===i?"file":i,u=e.header,l=(0,o.default)(e,["url","name","header"]);wx.chooseMessageFile({count:1,type:"file",success:function(e){var i=e.tempFiles,o=(0,r.default)(i,1),s=o[0],c=s.path,f=s.name;return t.setdefUI(),uni.uploadFile({url:n,name:a,filePath:c,formData:l,header:u,success:function(e){if(200==e.statusCode){var n=JSON.parse(e.data);return t.onCommit(t.$emit("up-success",{fileName:f,data:n}))}return t.errorHandler("文件上传失败",t.upErr)},fail:function(){return t.errorHandler("文件上传失败",t.upErr)}})},fail:function(){return t.errorHandler("文件选择失败",t.upErr)}})},upload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.url?this.loading&&this.toast("还有个文件玩命处理中，请稍候.."):this.toast("上传地址不正确")},open:function(t){var e=uni.getSystemInfoSync().platform;"ios"==e&&(t=encodeURI(t)),uni.openDocument({filePath:t,success:function(t){console.log("打开文档成功")}})},download:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"temporary";if(!this.loading)return this.setdefUI(),new Promise((function(i,r){var o=uni.downloadFile({url:t,success:function(t){var o=t.statusCode,a=t.tempFilePath;200===o&&("local"==n?uni.saveFile({tempFilePath:a,success:function(t){var n=t.savedFilePath;return e.onCommit(i(n))},fail:function(){return e.errorHandler("下载失败",r)}}):e.onCommit(i(a)))},fail:function(){return e.errorHandler("下载失败",r)}});o.onProgressUpdate((function(t){var n=t.progress,i=void 0===n?0:n;i<=100&&e.$nextTick((function(){e.value=i}))}))}));this.toast("还有个文件玩命处理中，请稍候..")},onCommit:function(t){var e=this;return this.msg="执行完毕~",this.loading=!1,this.cubgColor="rgba(57, 181, 74, 0.5)",setTimeout((function(){e.show=!1}),1500),t},setdefUI:function(){this.cubgColor=this.bgColor,this.value=0,this.loading=!0,this.show=!0},upErr:function(t){this.$emit("up-error",t)},errorHandler:function(t,e){var n=this;return this.msg=t,this.loading=!1,this.cubgColor="rgba(229, 77, 66, 0.5)",setTimeout((function(){n.show=!1}),1500),e(t)}}};e.default=a},3835:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=u(n("0d21")),r=u(n("09f0")),o=u(n("06c5")),a=u(n("3d8c"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return(0,i.default)(t)||(0,r.default)(t,e)||(0,o.default)(t,e)||(0,a.default)()}},"3d8c":function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},4077:function(t,e,n){"use strict";n.r(e);var i=n("9ef7"),r=n("d7eb");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("4b42");var a,u=n("f0c5"),l=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"4ec6f1d0",null,!1,i["a"],a);e["default"]=l.exports},"4b42":function(t,e,n){"use strict";var i=n("6801"),r=n.n(i);r.a},6801:function(t,e,n){var i=n("6e68");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("6cf225a8",i,!0,{sourceMap:!1,shadowMode:!1})},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"6e68":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".t-toptips[data-v-4ec6f1d0]{width:100%;padding:%?18?% %?30?%;box-sizing:border-box;position:fixed;z-index:90;color:#fff;font-size:%?30?%;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;word-break:break-all;opacity:0;-webkit-transform:translateZ(0) translateY(-100%);transform:translateZ(0) translateY(-100%);-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.t-top-show[data-v-4ec6f1d0]{-webkit-transform:translateZ(0) translateY(0);transform:translateZ(0) translateY(0);opacity:1}",""]),t.exports=e},"9ef7":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"t-toptips",class:[t.show?"t-top-show":""],style:{top:t.top,background:t.cubgColor}},[t.loading?n("v-uni-view",{staticClass:"flex flex-sub"},[n("v-uni-view",{staticClass:"cu-progress flex-sub round striped active sm"},[n("v-uni-view",{style:{background:t.color,width:t.value+"%"}})],1),n("v-uni-text",{staticClass:"margin-left"},[t._v(t._s(t.value)+"%")])],1):[t._v(t._s(t.msg))]],2)},o=[]},a89c:function(t,e,n){"use strict";n.r(e);var i=n("c613"),r=n("dd59");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("d00e");var a,u=n("f0c5"),l=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"24098095",null,!1,i["a"],a);e["default"]=l.exports},c613:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={lFile:n("4077").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("l-file",{ref:"lFile",on:{"up-success":function(e){arguments[0]=e=t.$handleEvent(e),t.onSuccess.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"padding text-center"},[n("v-uni-view",{staticClass:"padding"},[n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onOpenDoc.apply(void 0,arguments)}}},[t._v("预览")])],1),n("v-uni-view",{staticClass:"padding"},[n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onDown.apply(void 0,arguments)}}},[t._v("下载到本地")]),n("v-uni-view",{staticClass:"text-center padding-sm"},[t._v(t._s(t.localPath))])],1),n("v-uni-view",{staticClass:"padding"},[n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onUpload.apply(void 0,arguments)}}},[t._v("上传")])],1),n("v-uni-view",{staticClass:"padding",staticStyle:{"font-size":"26rpx","text-align":"center"}},[n("v-uni-text",{attrs:{decode:!0}},[t._v(t._s(t.tip))])],1)],1)],1)},o=[]},ccb5:function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n("c975"),n("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},d00e:function(t,e,n){"use strict";var i=n("2324"),r=n.n(i);r.a},d7eb:function(t,e,n){"use strict";n.r(e);var i=n("2f2d"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},dd59:function(t,e,n){"use strict";n.r(e);var i=n("1740"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},f8a6:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".padding-sm[data-v-24098095]{padding:%?20?%}.padding[data-v-24098095]{padding:%?30?%}",""]),t.exports=e}}]);